<!DOCTYPE html>
<html>

    <head>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
        <script src="https://d3js.org/d3.v4.js"></script>
        <script src="https://d3js.org/d3.v4.js"></script>
        <link rel="stylesheet" href="style.css" media="screen">
        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <!-- Bootstrap CSS -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
            integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

        <!-- <link rel="stylesheet" href="../static/css/style.css" media="screen"> -->
    </head>

    <body>

        <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
            <a class="navbar-brand" href="" id="logo"> Sentence Finder</a>
        </nav>
                <div class="container">
                  <!-- <h1 class="display-4">Fluid jumbotron</h1> -->
                </div>
        <div class="padding">
        <div class="container-fluid">
        <div class="row">
            <div class="column-1-padding">
            <div class = "col-6-md">
                <form>
                    <textarea type="text" class="inputField" id="msg" cols="40" rows="5">Paste your fic here!</textarea>
                </form>
               

            </br>   
            </br>
            <button onclick="changeIt()" id = "predict" class="btn btn-primary btn-block btn-large">Find My Sentence!</button>
            <!-- <button type="submit" id = "predict" class="btn btn-primary btn-block btn-large">Predict</button>
             -->
             
            </br>
           </br>

            <div id = "prediction"><br>
            <script>
                d3.select("#predict").on("click", function changeIt(){
                var text = d3.select("#msg").node().value;
                var exclamation = text.replace("!", ".");
                var question = exclamation.replace("?", ".")
                var sentences = text.split('.')
                console.log(sentences);
                var y = 0
                var wc_sentence = []
                var words_only_list = []
                for (i = 0; i < sentences.length; i++) {
                    var words = sentences[y].split(" ")
                    let forDeletion = ['', 'â€”', ' ']
                    var words_only = words.filter(item => !forDeletion.includes(item))
                    var counts = words_only.length
                    words_only_list.push(words_only)
                    wc_sentence.push(counts)
                    y = y + 1
                }
                
                var longest = (Math.max.apply(null, wc_sentence))
                var location = wc_sentence.indexOf(longest)
                var longest_sentence=words_only_list[location]
                console.log((longest_sentence))
                var listToStr = longest_sentence.join(" ")
                console.log(listToStr)
                // document.write(longest)
                document.write('Your longest sentence is ' + longest +' words long.')
                document.write("<br>");
                document.write(listToStr);
            }
            )
            </script>    
            </div>
            </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="well">
                        <!-- <img src  = "https://archive.org/download/ward_map/ward_map.jpg"></img> -->
                    </div> 
                </div>
            </div>
        </div>
        <!-- <div class = "line-chart"></div> -->
        </div>



        <!-- <script src="../static/js/logic.js"></script> -->
        <!-- <script src="../static/js/line-chart.js"></script> -->
        <!-- <script src="luxon.js"></script>
        <script>luxon.DateTime.now();</script> -->
    </div>
    </body>


</html>
